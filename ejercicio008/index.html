<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credenciales</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
   <div id="principal">
        <!-- email -->
         <div class="contenido">
            <input type="text" id="iEmail" placeholder="Email" value="testEmail@test.com">
            <span class="error" id="error-email"></span>
         </div>
        <!-- password -->
         <div class="contenido">
            <input type="text" name="" id="iPassword" placeholder="Password" value="testPsswod">
            <span class="error" id="error-pwd"></span>
         </div>
        <!-- send  -->
         <div class="contenido">
            <button onclick=evalCredentials()>Validate</button>
         </div>    
    </div>
    <br>
    <div id="details">
        <!-- evaluation -->
         <div class="contenido">
            <strong>
            Validation details:
            </strong>
         </div>
         <div class="contenido" id="resultadoEmail">Email Result</div>
         <div class="contenido" id="resultadoPassword">Password Result</div>
    </div>
   </div> 
</body>
</html>

<script>
    function evalCredentials(){
        let email = document.querySelector("#iEmail").value;
        let password = document.querySelector("#iPassword").value;
        formatedPassword = password.toLowerCase()

        // switch (true){
        //     case email.indexOf('@')>0 && email.indexOf('.')>0 && email.length>5:
        //         document.querySelector("#resultadoEmail").innerHTML=`The email is correct!`;
        //         break;
        //     default:
        //         document.querySelector("#resultadoEmail").innerHTML = "The email must contain '@', a '.', and be at least 5 characters long.";
        //         break;
        //
        // }

        // switch (true){
        //     case password.indexOf('a')<0 && password.indexOf('ibm')<0 && password.length>6:
        //         document.querySelector("#resultadoPassword").innerHTML=`The password is correct!`;
        //         break;
        //     default:
        //         document.querySelector("#resultadoPassword").innerHTML = "The password must not contain 'a' or 'A', the word 'IBM' in any case variation, and must be at least 6 characters long.";
        //
        //         break;
        //
        // }
        // console.log(email.indexOf('@')>0)
        // console.log(email.indexOf('.')>0)
        // console.log(email.length>5)
        // console.log('pass')
        // console.log(password.indexOf('a')<0)
        // console.log(password.indexOf('ibm')<0)
        // console.log(password.length>6)

        if (email.indexOf('@')>0 && email.indexOf('.')>0 && email.length>5) {
          document.querySelector("#resultadoEmail").innerHTML=`The email is correct!`;
        } else {
          escribirError("#resultadoEmail", "The email must contain '@', a '.', and be at least 5 characters long.")
          escribirError("#error-email", "The email is not valid");
         //  document.querySelector("#resultadoEmail").innerHTML = "The email must contain '@', a '.', and be at least 5 characters long.";
         //  document.querySelector("#error-email").innerHTML="The email doesn't work"
        }

       if (formatedPassword.indexOf('a')<0 && formatedPassword.indexOf('ibm')<0 && password.length>6) {
           document.querySelector("#resultadoPassword").innerHTML=`The password is correct!`;
       } else {
         //   document.querySelector("#resultadoPassword").innerHTML = "The password must not contain 'a' or 'A', the word 'IBM' in any case variation, and must be at least 6 characters long.";
           escribirError("#resultadoPassword", "The password must not contain 'a' or 'A', the word 'IBM' in any case variation, and must be at least 6 characters long.")
         //   document.querySelector("#error-pwd").innerHTML="The password doesn't work"
           escribirError("#error-pwd", "The password is not valid");
    }

    function escribirError(identificador, mensaje){
         document.querySelector(identificador).innerHTML=mensaje;
    }
   
    }
</script>
